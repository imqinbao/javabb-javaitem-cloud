Index: javaitem-module/pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <parent>\r\n        <artifactId>javabb-javaitem-cloud</artifactId>\r\n        <groupId>cn.javabb</groupId>\r\n        <version>1.0</version>\r\n    </parent>\r\n    <modelVersion>4.0.0</modelVersion>\r\n    <packaging>pom</packaging>\r\n    <modules>\r\n        <module>javaitem-gen</module>\r\n    </modules>\r\n    <artifactId>javaitem-module</artifactId>\r\n\r\n\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- javaitem-module/pom.xml	(revision 250ec2550cbcaf9fe5fa31cd1d43ca928f597fbc)
+++ javaitem-module/pom.xml	(date 1616858140576)
@@ -11,6 +11,7 @@
     <packaging>pom</packaging>
     <modules>
         <module>javaitem-gen</module>
+        <module>javaitem-seate</module>
     </modules>
     <artifactId>javaitem-module</artifactId>
 
Index: javaitem-base/pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <parent>\r\n        <artifactId>javabb-javaitem-cloud</artifactId>\r\n        <groupId>cn.javabb</groupId>\r\n        <version>1.0</version>\r\n    </parent>\r\n    <modelVersion>4.0.0</modelVersion>\r\n    <packaging>pom</packaging>\r\n    <artifactId>javaitem-base</artifactId>\r\n\r\n    <modules>\r\n        <module>javaitem-common</module>\r\n        <module>javaitem-cache</module>\r\n        <module>javaitem-log</module>\r\n        <module>javaitem-security</module>\r\n        <module>javaitem-swagger</module>\r\n    </modules>\r\n\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- javaitem-base/pom.xml	(revision 250ec2550cbcaf9fe5fa31cd1d43ca928f597fbc)
+++ javaitem-base/pom.xml	(date 1616851114853)
@@ -17,6 +17,7 @@
         <module>javaitem-log</module>
         <module>javaitem-security</module>
         <module>javaitem-swagger</module>
+        <module>javaitem-datasource</module>
     </modules>
 
 </project>
\ No newline at end of file
Index: javaitem-base/javaitem-datasource/pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- javaitem-base/javaitem-datasource/pom.xml	(date 1616851375235)
+++ javaitem-base/javaitem-datasource/pom.xml	(date 1616851375235)
@@ -0,0 +1,30 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project xmlns="http://maven.apache.org/POM/4.0.0"
+         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
+    <parent>
+        <artifactId>javaitem-base</artifactId>
+        <groupId>cn.javabb</groupId>
+        <version>1.0</version>
+    </parent>
+    <modelVersion>4.0.0</modelVersion>
+
+    <artifactId>javaitem-datasource</artifactId>
+
+    <dependencies>
+        <!-- Druid -->
+        <dependency>
+            <groupId>com.alibaba</groupId>
+            <artifactId>druid-spring-boot-starter</artifactId>
+            <version>${druid.version}</version>
+        </dependency>
+
+        <!-- Dynamic DataSource -->
+        <dependency>
+            <groupId>com.baomidou</groupId>
+            <artifactId>dynamic-datasource-spring-boot-starter</artifactId>
+            <version>${dynamic-ds.version}</version>
+        </dependency>
+    </dependencies>
+
+</project>
\ No newline at end of file
Index: javaitem-module/javaitem-seate/pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- javaitem-module/javaitem-seate/pom.xml	(date 1616864975388)
+++ javaitem-module/javaitem-seate/pom.xml	(date 1616864975388)
@@ -0,0 +1,27 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project xmlns="http://maven.apache.org/POM/4.0.0"
+         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
+    <parent>
+        <artifactId>javaitem-module</artifactId>
+        <groupId>cn.javabb</groupId>
+        <version>1.0</version>
+    </parent>
+    <modelVersion>4.0.0</modelVersion>
+
+    <artifactId>javaitem-seate</artifactId>
+
+    <dependencies>
+        <!-- mysql -->
+        <dependency>
+            <groupId>mysql</groupId>
+            <artifactId>mysql-connector-java</artifactId>
+            <scope>runtime</scope>
+        </dependency>
+        <dependency>
+            <groupId>cn.javabb</groupId>
+            <artifactId>javaitem-datasource</artifactId>
+            <version>1.0</version>
+        </dependency>
+    </dependencies>
+</project>
\ No newline at end of file
Index: javaitem-base/javaitem-datasource/src/main/java/cn/javabb/datasource/annotation/Slave.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- javaitem-base/javaitem-datasource/src/main/java/cn/javabb/datasource/annotation/Slave.java	(date 1616851496772)
+++ javaitem-base/javaitem-datasource/src/main/java/cn/javabb/datasource/annotation/Slave.java	(date 1616851496772)
@@ -0,0 +1,16 @@
+package cn.javabb.datasource.annotation;
+
+import com.baomidou.dynamic.datasource.annotation.DS;
+
+import java.lang.annotation.*;
+
+/**
+ * 从库数据源
+ */
+@Target({ElementType.TYPE, ElementType.METHOD})
+@Retention(RetentionPolicy.RUNTIME)
+@Documented
+@DS("slave")
+public @interface Slave {
+
+}
\ No newline at end of file
Index: javaitem-base/javaitem-datasource/src/main/java/cn/javabb/datasource/annotation/Master.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- javaitem-base/javaitem-datasource/src/main/java/cn/javabb/datasource/annotation/Master.java	(date 1616851499607)
+++ javaitem-base/javaitem-datasource/src/main/java/cn/javabb/datasource/annotation/Master.java	(date 1616851499607)
@@ -0,0 +1,16 @@
+package cn.javabb.datasource.annotation;
+
+import com.baomidou.dynamic.datasource.annotation.DS;
+
+import java.lang.annotation.*;
+
+/**
+ * 主库数据源
+ */
+@Target({ElementType.TYPE, ElementType.METHOD})
+@Retention(RetentionPolicy.RUNTIME)
+@Documented
+@DS("master")
+public @interface Master {
+
+}
\ No newline at end of file
Index: javaitem-module/javaitem-seate/src/main/resources/bootstrap.yml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- javaitem-module/javaitem-seate/src/main/resources/bootstrap.yml	(date 1616864925252)
+++ javaitem-module/javaitem-seate/src/main/resources/bootstrap.yml	(date 1616864925252)
@@ -0,0 +1,89 @@
+# spring配置
+spring:
+  redis:
+    host: localhost
+    port: 6379
+    password:
+  datasource:
+    druid:
+      stat-view-servlet:
+        enabled: true
+        loginUsername: admin
+        loginPassword: 123456
+    dynamic:
+      druid:
+        initial-size: 5
+        min-idle: 5
+        maxActive: 20
+        maxWait: 60000
+        timeBetweenEvictionRunsMillis: 60000
+        minEvictableIdleTimeMillis: 300000
+        validationQuery: SELECT 1 FROM DUAL
+        testWhileIdle: true
+        testOnBorrow: false
+        testOnReturn: false
+        poolPreparedStatements: true
+        maxPoolPreparedStatementPerConnectionSize: 20
+        filters: stat,wall,slf4j
+        connectionProperties: druid.stat.mergeSql\=true;druid.stat.slowSqlMillis\=5000
+      datasource:
+        # 主库数据源
+        master:
+          driver-class-name: com.mysql.cj.jdbc.Driver
+          url: jdbc:mysql://localhost:3306/ry-cloud?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
+          username: root
+          password: password
+        # seata_order数据源
+        order:
+          username: root
+          password: password
+          url: jdbc:mysql://localhost:3306/seata_order?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
+          driver-class-name: com.mysql.cj.jdbc.Driver
+        # seata_account数据源
+        account:
+          username: root
+          password: password
+          url: jdbc:mysql://localhost:3306/seata_account?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
+          driver-class-name: com.mysql.cj.jdbc.Driver
+        # seata_product数据源
+        product:
+          username: root
+          password: password
+          url: jdbc:mysql://localhost:3306/seata_product?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
+          driver-class-name: com.mysql.cj.jdbc.Driver
+      seata: true    #开启seata代理，开启后默认每个数据源都代理，如果某个不需要代理可单独关闭
+
+# seata配置
+seata:
+  enabled: true
+  # Seata 应用编号，默认为 ${spring.application.name}
+  application-id: ${spring.application.name}
+  # Seata 事务组编号，用于 TC 集群名
+  tx-service-group: ${spring.application.name}-group
+  # 关闭自动代理
+  enable-auto-data-source-proxy: false
+  # 服务配置项
+  service:
+    # 虚拟组和分组的映射
+    vgroup-mapping:
+      ruoyi-system-group: default
+    # 分组和 Seata 服务的映射
+    grouplist:
+      default: 127.0.0.1:8091
+  config:
+    type: file
+  registry:
+    type: file
+
+# mybatis配置
+mybatis:
+  # 搜索指定包别名
+  typeAliasesPackage: com.ruoyi.system
+  # 配置mapper的扫描，找到所有的mapper.xml映射文件
+  mapperLocations: classpath:mapper/**/*.xml
+
+# swagger配置
+swagger:
+  title: 分布式事务测试
+  license: Powered By javabb
+  licenseUrl: http://javabb.cn
\ No newline at end of file
